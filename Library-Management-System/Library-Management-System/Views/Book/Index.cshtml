@model List<BookViewModel>

<h2>Books</h2>

@{ 
    if (Context.Session.GetString("Admin") == "true") 
    {
        <a href="/book/Create" class="btn btn-success">Register Book</a>
    }
}
<br />
<br />
<table class="table table-striped table-responsive">
    <tr>
        @{ 
            if (Context.Session.GetString("Admin") == "true") 
            {
                <th>Actions</th>
            } 
        }
        <th>Title</th>
        <th>Author Name</th>
        <th>Category</th>
        <th>Published Year</th>
        <th>Photo</th>
    </tr>

    @foreach (BookViewModel book in Model)
    {
        <tr>
            @{ 
                if (Context.Session.GetString("Admin") == "true") 
                {
                    <td>
                        <a href="/book/edit?id=@book.Id">✏️</a>
                        <a href="javascript:deleteRecord('book', @book.Id)">❎</a>
                    </td>
                }
            }
            <td>@book.Title</td>
            <td>@book.AuthorName</td>
            <td>@book.CategoryDescription</td>
            <td>@book.PublishedYear</td>
            <td>
                <img id="imgPreview" src="data:image/jpeg;base64,@book.ImageBase64" class="img-responsive"
                     width="50">
            </td>
        </tr>
    }
</table>